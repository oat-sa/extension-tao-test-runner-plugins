define("taoTestRunnerPlugins/runner/plugins/accessibility/defaultHeading",["jquery","i18n","taoTests/runner/plugin"],function($,__,pluginFactory){"use strict";var defaultHeadingText=__("Assessment Item"),headingCss={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"};return pluginFactory({name:"defaultHeading",init:function init(){const testRunner=this.getTestRunner(),config=this.getConfig(),headingText=config.heading||defaultHeadingText;let headingTag;testRunner.on("renderitem",function(){var headingTagsCount=$(".content-wrap h1").length;return headingTagsCount?void(headingTag&&(headingTag.remove(),headingTag=void 0)):void(headingTag||(headingTag=$("<h1>"+headingText+"</h1>").css(headingCss).attr("id","defaultHeading"),$("body").prepend(headingTag)))})},destroy:function(){$("#defaultHeading").remove()}})}),define("taoTestRunnerPlugins/runner/plugins/connectivity/disconnectedTestSaver",["jquery","lodash","i18n","core/promise","core/logger","core/polling","util/download","ui/waitingDialog/waitingDialog","ui/feedback","layout/loading-bar","taoTests/runner/plugin","taoQtiTest/runner/helpers/navigation"],function($,_,__,Promise,loggerFactory,polling,download,waitingDialogFactory,feedback,loadingBar,pluginFactory,navigationHelper){"use strict";var logger=loggerFactory("disconnectedTestSaver");return pluginFactory({name:"disconnectedTestSaver",init:function init(){},install:function install(){var self=this,waiting=!1,testRunner=this.getTestRunner(),proxy=testRunner.getProxy();this.displayWaitingDialog=function displayWaitingDialog(message,offerDownload){var waitingDialog,waitingConfig,$secondaryButton,$countdownText,countdownPolling,secondaryButtonWait=60;return offerDownload=offerDownload||!1,new Promise(function(resolve){waiting||(waiting=!0,testRunner.before("pause.waiting",function(){return new Promise(function(pauseResolve){proxy.off("reconnect.pausing").after("reconnect.pausing",pauseResolve)})}),waitingConfig=offerDownload?{message:__("You are encountering a prolonged connectivity loss."),waitContent:__("Please continue waiting while we try to restore the connection. Alternatively, you may end this test by downloading it as a file which you will have to submit manually."),proceedContent:__("The connection seems to be back, please proceed"),showSecondary:!0,secondaryButtonText:__("Download & End Assessment"),secondaryButtonIcon:"download",buttonSeparatorText:__("or"),width:"600px"}:{message:__("You are encountering a prolonged connectivity loss. ")+message,waitContent:__("Please wait while we try to restore the connection."),proceedContent:__("The connection seems to be back, please proceed")},waitingDialog=waitingDialogFactory(waitingConfig).on("proceed",function(){resolve()}).on("render",function(){$secondaryButton=$("button[data-control=\"secondary\"]"),proxy.off("reconnect.waiting").after("reconnect.waiting",function(){testRunner.off("pause.waiting"),waiting=!1,waitingDialog.endWait()}),waitingDialog.is("waiting")&&waitingDialog.trigger("begincountdown")}).on("wait",function(){waitingDialog.is("rendered")&&waitingDialog.trigger("begincountdown")}).on("begincountdown",function(){var delaySec=secondaryButtonWait;offerDownload&&($secondaryButton.prop("disabled",!0),$countdownText=$("<p>").addClass("button-subtext").insertAfter($secondaryButton),countdownPolling=polling({action:function(){delaySec--,$countdownText.html(__("The download will be available in <strong>%d</strong> seconds",delaySec)),1>delaySec&&(this.stop(),$secondaryButton.prop("disabled",!1),$countdownText.remove())},interval:1e3,autoStart:!0}))}).on("unwait",function(){offerDownload&&(countdownPolling.stop(),$secondaryButton.prop("disabled",!0),$countdownText.remove(),$(".between-buttons-text").addClass("hidden"))}).on("secondaryaction",function(){self.getActions().then(self.prepareDownload).then(function(data){download(data.filename,data.content),waitingDialog.destroy(),loadingBar.stop(),feedback(null,{timeout:-1,popup:!0}).info(__("Assessment ended. Please email the downloaded file to complete the process.")),resolve()}).catch(function(err){err&&testRunner.trigger("error",err)})}))})},this.getActions=function getActions(){return testRunner.getProxy().exportActions().then(function(actionsQueue){return actionsQueue.length?actionsQueue:Promise.reject(new Error("No actions in queue"))})},this.prepareDownload=function prepareDownload(actions){const testConfig=testRunner.getConfig(),timestamp=Date.now(),dateTime=new Date(timestamp).toISOString(),testData=testRunner.getTestData()||{},testMap=testRunner.getTestMap(),testTitle=testMap.title||testData.title,filename=`Download of ${testTitle} at ${dateTime}.json`;return{filename,content:JSON.stringify({timestamp,testData,testConfig,actionQueue:actions})}},testRunner.before("next skip",function(e,data){const testContext=testRunner.getTestContext(),isLast=navigationHelper.isLast(testRunner.getTestMap(),testContext.itemIdentifier);if(isLast&&proxy.isOffline())return testRunner.off("error.connectivity"),testRunner.before("error.connectivity",function(err){return logger.warn(err),!1}),self.displayWaitingDialog(null,!0).then(function(){testRunner.trigger("leave",data)}).catch(function(generalErr){testRunner.trigger("error",generalErr)}),!1})}})}),define("taoTestRunnerPlugins/runner/plugins/content/answerCache",["util/namespace","taoTests/runner/plugin","taoQtiTest/runner/helpers/currentItem"],function(namespaceHelper,pluginFactory,currentItem){"use strict";return pluginFactory({name:"answerCache",init(){const testRunner=this.getTestRunner();return testRunner.getPluginStore(this.getName()).then(store=>{this.storage=store,testRunner.after("renderitem",()=>{const itemRunner=testRunner.itemRunner,testContext=testRunner.getTestContext(),key=`${testContext.itemIdentifier}#${testContext.attempt}`,{allAttempts}=this.getConfig();if(testRunner.on(namespaceHelper.namespaceAll("loaditem finish",this.getName()),()=>(testRunner.off(`.${this.getName()}`),this.storage.clear())),itemRunner&&(allAttempts||!currentItem.isAnswered(testRunner)))return itemRunner.off(`.${this.getName()}`).on(`responsechange.${this.getName()}`,()=>{this.storage.setItem(key,itemRunner.getState())}),this.storage.getItem(key).then(state=>{state&&itemRunner.setState(state)})})})}})}),define("taoTestRunnerPlugins/runner/plugins/content/preventSpellchecker",["jquery","lodash","taoTests/runner/plugin"],function($,_,pluginFactory){"use strict";var _defaults={selector:"input, textarea"};return pluginFactory({name:"preventSpellchecker",init:function init(){var config=_.defaults(this.getConfig()||{},_defaults),testRunner=this.getTestRunner();testRunner.after("renderitem",function(){var $items=testRunner.getAreaBroker().getContentArea().find(config.selector);$items.attr("spellcheck","false"),$items.attr("autocorrect","off")}).on("destroy",function(){var $items=testRunner.getAreaBroker().getContentArea().find(config.selector);$items.removeAttr("spellcheck"),$items.removeAttr("autocorrect")})}})}),define("taoTestRunnerPlugins/runner/plugins/controls/sessionHeartbeat",["lodash","util/namespace","taoTests/runner/plugin","core/polling"],function(_,namespaceHelper,pluginFactory,pollingFactory){"use strict";const defaultConfig={interval:900,action:"up"},intervalUnit=1e3;return pluginFactory({name:"sessionHeartbeat",init(){const testRunner=this.getTestRunner(),{interval,action}=_.defaults(this.getConfig()||{},defaultConfig);this.polling=pollingFactory({action(){const testContext=testRunner.getTestContext();testRunner.getProxy().telemetry(testContext.itemIdentifier,action)},interval:interval*intervalUnit,autoStart:!0})},destroy(){this.polling&&this.polling.stop(),this.polling=null},enable(){this.polling&&this.polling.start()},disable(){this.polling&&this.polling.stop()}})}),define("taoTestRunnerPlugins/runner/plugins/navigation/limitBackButton",["jquery","lodash","taoTests/runner/plugin","taoQtiTest/runner/helpers/currentItem"],function($,_,pluginFactory,currentItemHelper){"use strict";const pluginName="limitBackButton",backButtonPluginName="previous",customListeners=[{selector:".widget-numpad",eventName:"click"},{selector:".qti-interaction",eventName:"change"}];return pluginFactory({name:"limitBackButton",install(){this.addCustomListeners=function addCustomListeners(){if(Array.isArray(customListeners)){const $container=this.getTestRunner().getAreaBroker().getContainer();customListeners.forEach(_ref=>{let{selector,eventName}=_ref;$(selector,$container).on(`${eventName}.${pluginName}`,()=>this.trigger("responsechange"))})}},this.removeCustomListeners=function removeCustomListeners(){if(Array.isArray(customListeners)){const $container=this.getTestRunner().getAreaBroker().getContainer();customListeners.forEach(_ref2=>{let{selector,eventName}=_ref2;$(selector,$container).off(`${eventName}.${pluginName}`)})}}},init(){const testRunner=this.getTestRunner(),backButtonPlugin=testRunner.getPlugin(backButtonPluginName);return backButtonPlugin?testRunner.getPluginStore(this.getName()).then(store=>{let currentItemIdentifier,disableState=!1,processingMoveAction=!1;const updatePreviousPlugin=()=>!processingMoveAction&&currentItemIdentifier?store.getItem(currentItemIdentifier).then(answered=>{!0===answered?(disableState=!0,backButtonPlugin.disable()):backButtonPlugin.enable()}).catch(err=>testRunner.trigger("error",err)):Promise.resolve();testRunner.before("nav-previous",()=>{if(disableState)return Promise.reject()}).before("move",(e,direction)=>{if(processingMoveAction=!0,"previous"===direction&&disableState)return Promise.reject()}).after("enablenav",()=>{processingMoveAction=!1,updatePreviousPlugin()}).on("loaditem",itemIdentifier=>{disableState=!1,currentItemIdentifier=itemIdentifier}).before("renderitem",()=>{if(currentItemHelper.isAnswered(testRunner))return store.setItem(currentItemIdentifier,!0)}).after("renderitem",()=>{updatePreviousPlugin(),testRunner.itemRunner.on("responsechange",()=>this.trigger("responsechange")),this.addCustomListeners()}).on(`plugin-responsechange.${pluginName}`,()=>{if(currentItemIdentifier&&!processingMoveAction)return store.setItem(currentItemIdentifier,!0).then(updatePreviousPlugin)}).on("beforeunloaditem",()=>this.removeCustomListeners())}):void 0},destroy(){this.removeCustomListeners()}})}),define("taoTestRunnerPlugins/runner/plugins/probes/latency",["lodash"],function(_){"use strict";var latencyProbes,timers={},captureProcessors={captureTest:function captureTest(testRunner){const testMap=testRunner.getTestMap();return{testId:testMap.identifier}},captureAll:function captureAll(testRunner){const context=testRunner.getTestContext(),testMap=testRunner.getTestMap();return{testId:testMap.identifier,testPartId:context.testPartId,sectionId:context.sectionId,itemId:context.itemIdentifier,sectionTimer:latencyProbes.getTimerValue("assessmentSection"),attempt:context.attempt}},captureShortcut:function captureShortcut(testRunner,eventName,shortcut){return _.assign(latencyProbes.applyCaptureProcessor("captureAll",testRunner),{shortcut:shortcut})}};return latencyProbes={init:function init(testRunner,probesConfig){function insistentSender(traceData){let numTry=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;5<=numTry||testRunner.getProxy().sendVariables(traceData,!0).catch(function(){_.delay(function(){insistentSender(traceData,++numTry)},250)})}function sendVariables(){return probeOverseer.flush().then(function(data){var traceData={};return data&&data.length&&(_.forEach(data,function(entry){var id=entry.type+"-"+entry.id;entry.marker&&(id=entry.marker+"-"+id),traceData[id]=entry}),insistentSender(traceData)),data})}var probeOverseer=testRunner.getProbeOverseer();return probesConfig.forEach(function(probe){probeOverseer.add({name:probe.name,events:probe.events,latency:probe.latency,startEvents:probe.startEvents,stopEvents:probe.stopEvents,capture:captureProcessors[probe.capture]})}),testRunner.on("plugin-addtimer.timer",function(timerPlugin,type,timer){timers[type]=timer}),testRunner.on("plugin-removetimer.timer",function(timerPlugin,type){timers[type]=!1}),testRunner.before("unloaditem",function(){return sendVariables()}),testRunner.before("exit",function(){return sendVariables()}),this},getTimerValue:function getTimerValue(name){if("object"==typeof timers[name]){if(_.isNumber(timers[name].remainingTime))return timers[name].remainingTime;if(_.isFunction(timers[name].val))return parseInt(timers[name].val(),10)}return null},hasCaptureProcessor:function hasCaptureProcessor(name){return!!captureProcessors[name]},registerCaptureProcessor:function registerCaptureProcessor(name,processor){if(_.isEmpty(name)||!_.isString(name))throw new TypeError("A capture processor should have a valid name");if(!_.isFunction(processor))throw new TypeError("The processor must be a function");return captureProcessors[name]=processor,this},applyCaptureProcessor:function applyCaptureProcessor(name){var capture;if(_.isEmpty(name)||!_.isString(name))throw new TypeError("A capture processor have a valid name");return capture=captureProcessors[name],_.isFunction(capture)?capture.apply(captureProcessors,[].slice.call(arguments,1)):null},removeCaptureProcessor:function removeCaptureProcessor(name){if(_.isEmpty(name)||!_.isString(name))throw new TypeError("A capture processor have a valid name");return captureProcessors=_.omit(captureProcessors,name),this}},latencyProbes}),define("json!taoTestRunnerPlugins/runner/plugins/probes/latencyConfig.json",function(){return[{name:"leave-fullscreen-prohibited",events:"leavefullscreen",capture:"captureAll"},{name:"focus-loss-prohibited",events:"blur",capture:"captureAll"},{name:"shortcut-prohibited",events:"prohibited-key",capture:"captureShortcut"},{name:"pause",events:"pause",capture:"captureAll"}]}),define("taoTestRunnerPlugins/runner/plugins/probes/latencyEvents",["lodash","taoTests/runner/plugin","json!taoTestRunnerPlugins/runner/plugins/probes/latencyConfig.json","taoTestRunnerPlugins/runner/plugins/probes/latency"],function(_,pluginFactory,probesConfig,latencyProbes){"use strict";return pluginFactory({name:"latencyEvents",init:function init(){var testRunner=this.getTestRunner();latencyProbes.init(testRunner,probesConfig)}})}),define("taoTestRunnerPlugins/runner/plugins/security/autoPause",["i18n","taoTests/runner/plugin"],function(__,pluginFactory){"use strict";var pauseMessage="You are encountering a connectivity loss. The test has been suspended.";return pluginFactory({name:"autoPause",init:function init(){var testRunner=this.getTestRunner(),paused=!1;testRunner.on("disconnect",function(){paused||(paused=!0,testRunner.trigger("disconnectpause").trigger("pause",{reasons:{category:"technical",subCategory:"network"},message:__("You are encountering a connectivity loss. The test has been suspended."),originalMessage:"You are encountering a connectivity loss. The test has been suspended."}))})}})}),define("taoTestRunnerPlugins/runner/plugins/security/blurPause",["lodash","i18n","ui/pageStatus","taoTests/runner/plugin","taoQtiTest/runner/config/states"],function(_,__,pageStatusFactory,pluginFactory,states){"use strict";var pageStatus=pageStatusFactory(),lostFocusPauseMessage="The assessment has been paused due to an attempt to navigate to another window or tab. Please contact your proctor or administrator to resume your assessment.",lostFocusMessage=__("Attempt to navigate to another window or tab.");return pluginFactory({name:"blurPause",init:function init(){function addResizeListeners(){window.addEventListener("resize",resizeStartListener),window.addEventListener("resize",resizeEndListener)}function removeResizeListeners(){window.removeEventListener("resize",resizeStartListener),window.removeEventListener("resize",resizeEndListener)}var self=this,testRunner=this.getTestRunner(),mainFocus=!0,innerFocus=!1,ckEditorFocus=!1,bluring=!1,focusBackTimeoutDelayMs=200,focusBackTimeout=function focusBackTimeout(){return new Promise(function(resolve,reject){pageStatus.on("focus.focusBack",function(){pageStatus.off(".focusBack"),reject()}),_.delay(function(){pageStatus.off(".focusBack"),innerFocus||ckEditorFocus?reject():resolve()},focusBackTimeoutDelayMs)})},doPause=function doPause(){const context=testRunner.getTestContext()||{},options=testRunner.getOptions()||{},getDefined=function(){for(var _len=arguments.length,list=Array(_len),_key=0;_key<_len;_key++)list[_key]=arguments[_key];return list.find(value=>"undefined"!=typeof value)},sectionPause=getDefined(options.sectionPause,context.options&&context.options.sectionPause),forcePause="boolean"==typeof sectionPause?sectionPause:options.proctored||context.securePauseStateRequired;bluring||!(context.state<=states.testSession.interacting)||testRunner.getState("finish")||(bluring=!0,focusBackTimeout().then(function resolve(){forcePause?testRunner.trigger("blur").trigger("pause",{message:__(lostFocusPauseMessage),reasons:{category:"examinee",subCategory:"behaviour"},originalMessage:lostFocusPauseMessage}):(testRunner.trigger("blur").trigger("warning",lostFocusMessage),bluring=!1)}).catch(function(){bluring=!1}))},isCkEditorIframe=function isCkEditorIframe(elt){return-1!==elt.className.indexOf("cke_")},handleInnerWindowFocus=function handleInnerWindowFocus(e,ckEditor){ckEditor?ckEditorFocus=!0:innerFocus=!0},handleCkEditorFocus=handleInnerWindowFocus.bind(null,null,!0),handleInnerWindowFocusLoose=function handleInnerWindowFocusLoose(e,ckEditor){ckEditor?ckEditorFocus=!1:innerFocus=!1,_.defer(function(){mainFocus||innerFocus||ckEditorFocus||doPause()})},handleCkEditorFocusLoose=handleInnerWindowFocusLoose.bind(null,null,!0),handleIframesFocus=function handleIframesFocus(){self.getAreaBroker().getContainer().find("iframe").each(function(){try{if(isCkEditorIframe(this)){var instanceIdentifier=this.title.substr(this.title.indexOf("editor")),editor=window.CKEDITOR.instances[instanceIdentifier];editor.on("focus",handleCkEditorFocus),editor.on("blur",handleCkEditorFocusLoose)}this.contentWindow.addEventListener("focus",handleInnerWindowFocus),this.contentWindow.addEventListener("blur",handleInnerWindowFocusLoose)}catch(permissionError){}})};const handleWindowFocusLoose=()=>{mainFocus=!1,_.defer(()=>{innerFocus||ckEditorFocus||doPause()})};let isWindowResizing=!1;const resizeEndListener=_.debounce(()=>{isWindowResizing=!1},50),resizeStartListener=_.debounce(()=>{isWindowResizing=!0},50,{leading:!0,trailing:!1});pageStatus.on("blur",()=>{isWindowResizing||handleWindowFocusLoose()}).on("focus",()=>{mainFocus=!0}),testRunner.on("plugin-loaded.scratchpad",handleIframesFocus).on("renderitem",handleIframesFocus).after("renderitem",addResizeListeners).on("unloaditem",function(){removeResizeListeners(),innerFocus=!1,ckEditorFocus=!1})}})}),define("json!taoTestRunnerPlugins/runner/plugins/security/commands.json",function(){return[{label:"<Meta>+C",shortcut:"Meta+C",platform:"mac",browser:"all",description:"Copy to clipboard.",playground:!0},{label:"<Meta>+V",shortcut:"Meta+V",platform:"mac",browser:"all",description:"Paste from clipboard.",playground:!0},{label:"<Meta>+<Alt>+V",shortcut:"Meta+Alt+V",platform:"mac",browser:"all",description:"Paste Style",playground:!0},{label:"<Meta>+<Shift>+<Alt>+V",shortcut:"Meta+Shift+Alt+V",platform:"mac",browser:"all",description:"Paste and Match Style",playground:!0},{label:"<Meta>+X",shortcut:"Meta+X",platform:"mac",browser:"all",description:"Cut to the clipboard",playground:!0},{label:"<Meta>+:",shortcut:"Meta+:",platform:"mac",browser:"all",description:"Show / Hide Spelling and Grammar",playground:!1},{label:"<Ctrl>+F3",shortcut:"Ctrl+F3",platform:"mac",browser:"all",description:"Opens windows menu / dock.",playground:!1},{label:"<Ctrl>+F2",shortcut:"Ctrl+F2",platform:"mac",browser:"all",description:"Activate Menu",playground:!1},{label:"<Ctrl>+F8",shortcut:"Ctrl+F8",platform:"mac",browser:"all",description:"Active Menu Extras",playground:!1},{label:"<Shift>+<Meta>+Right",shortcut:"Shift+Meta+Right",platform:"mac",browser:"all",description:"Switch Applications",playground:!1},{label:"<Meta>+<Alt>+W",shortcut:"Meta+Alt+W",platform:"mac",browser:"all",description:"Close application",playground:!1},{label:"<Meta>+<Shift>+3",shortcut:"Meta+Shift+3",platform:"mac",browser:"all",description:"Take screenshot (entire screen)",playground:!1},{label:"<Meta>+<Shift>+4",shortcut:"Meta+Shift+4",platform:"mac",browser:"all",description:"Take screenshot (partial / active window)",playground:!1},{label:"<Meta>+<Shift>+W",shortcut:"Meta+Shift+W",platform:"mac",browser:"all",description:"Closes the current window.",playground:!1},{label:"<Meta>+M",shortcut:"Meta+M",platform:"mac",browser:"all",description:"Minimizes the window.",playground:!1},{label:"<Meta>+<Alt>+M",shortcut:"Meta+Alt+M",platform:"mac",browser:"all",description:"Minimize (All)",playground:!1},{label:"backspace",shortcut:"backspace",platform:"mac",browser:"chrome",description:"Goes to the previous page in your browsing history for the tab.",playground:!1},{label:"<Meta>+[",shortcut:"Meta+[",platform:"mac",browser:"chrome",description:"Goes to the previous page in your browsing history for the tab",playground:!1},{label:"<Meta>+]",shortcut:"Meta+]",platform:"mac",browser:"chrome",description:"Goes to the next page in your browsing history for the tab.",playground:!1},{label:"<Meta>+<Shift>+?",shortcut:"Meta+Shift+?",platform:"mac",browser:"chrome",description:"Browser Help",playground:!1},{label:"<Meta>+<Ctrl>+F",shortcut:"Meta+Ctrl+F",platform:"mac",browser:"chrome",description:"Opens or Exits current page in full-screen mode. (TAO will enforce full screen.)",playground:!1},{label:"<Meta>+1",shortcut:"Meta+1",platform:"mac",browser:"chrome",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Meta>+2",shortcut:"Meta+2",platform:"mac",browser:"chrome",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Meta>+3",shortcut:"Meta+3",platform:"mac",browser:"chrome",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Meta>+4",shortcut:"Meta+4",platform:"mac",browser:"chrome",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Meta>+5",shortcut:"Meta+5",platform:"mac",browser:"chrome",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Meta>+6",shortcut:"Meta+6",platform:"mac",browser:"chrome",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Meta>+7",shortcut:"Meta+7",platform:"mac",browser:"chrome",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Meta>+8",shortcut:"Meta+8",platform:"mac",browser:"chrome",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Meta>+9",shortcut:"Meta+9",platform:"mac",browser:"chrome",description:"Switches to the last tab.",playground:!1},{label:"<Meta>+D",shortcut:"Meta+D",platform:"mac",browser:"chrome",description:"Saves your current webpage as a bookmark.",playground:!1},{label:"<Meta>+F",shortcut:"Meta+F",platform:"mac",browser:"chrome",description:"Opens the find bar.",playground:!1},{label:"<Meta>+G",shortcut:"Meta+G",platform:"mac",browser:"chrome",description:"Finds the next match for your input in the find bar.",playground:!1},{label:"<Meta>+Y",shortcut:"Meta+Y",platform:"mac",browser:"chrome",description:"Opens the History page.",playground:!1},{label:"<Meta>+<Shift>+J",shortcut:"Meta+Shift+J",platform:"mac",browser:"chrome",description:"Opens the Downloads page.",playground:!1},{label:"<Meta>+L",shortcut:"Meta+L",platform:"mac",browser:"chrome",description:"Highlights the URL. (Appears not to work in Full Screen Mode)",playground:!0},{label:"<Meta>+N",shortcut:"Meta+N",platform:"mac",browser:"chrome",description:"Opens a new window.",playground:!1},{label:"<Meta>+O",shortcut:"Meta+O",platform:"mac",browser:"chrome",description:"Opens a file from your computer in Google Chrome.",playground:!1},{label:"<Meta>+P",shortcut:"Meta+P",platform:"mac",browser:"chrome",description:"Prints your current page.",playground:!1},{label:"<Meta>+Q",shortcut:"Meta+Q",platform:"mac",browser:"chrome",description:"Quits Google Chrome.",playground:!1},{label:"<Meta>+R",shortcut:"Meta+R",platform:"mac",browser:"chrome",description:"Reloads your current page.",playground:!1},{label:"<Meta>+S",shortcut:"Meta+S",platform:"mac",browser:"chrome",description:"Saves your current page.",playground:!1},{label:"<Meta>+T",shortcut:"Meta+T",platform:"mac",browser:"chrome",description:"Opens a new tab.",playground:!1},{label:"<Meta>+<Alt>+U",shortcut:"Meta+Alt+U",platform:"mac",browser:"chrome",description:"Opens the source of your current page.",playground:!1},{label:"<Meta>+W",shortcut:"Meta+W",platform:"mac",browser:"chrome",description:"Closes the current tab or pop-up.",playground:!1},{label:"<Meta>+<Shift>+B",shortcut:"Meta+Shift+B",platform:"mac",browser:"chrome",description:"Toggles the bookmarks bar on and off.  (Appears not to work in Full Screen Mode)",playground:!1},{label:"<Meta>+<Alt>+C",shortcut:"Meta+Alt+C",platform:"mac",browser:"chrome",description:"Open / switch from inspect element mode and browser window",playground:!1},{label:"<Meta>+<Shift>+D",shortcut:"Meta+Shift+D",platform:"mac",browser:"chrome",description:"Saves all open pages as bookmarks in a new folder.",playground:!1},{label:"<Meta>+<Shift>+G",shortcut:"Meta+Shift+G",platform:"mac",browser:"chrome",description:"Finds the previous match for your input in the find bar.",playground:!1},{label:"<Meta>+<Alt>+I",shortcut:"Meta+Alt+I",platform:"mac",browser:"chrome",description:"Opens Developer Tools.",playground:!1},{label:"<Meta>+<Alt>+J",shortcut:"Meta+Alt+J",platform:"mac",browser:"chrome",description:"Open Developer Tools and bring focus to the console",playground:!1},{label:"<Meta>+<Shift>+M",shortcut:"Meta+Shift+M",platform:"mac",browser:"chrome",description:"Switch between multiple users.",playground:!1},{label:"<Meta>+<Shift>+N",shortcut:"Meta+Shift+N",platform:"mac",browser:"chrome",description:"Opens a new window in incognito mode.",playground:!1},{label:"<Meta>+<Alt>+B",shortcut:"Meta+Alt+B",platform:"mac",browser:"chrome",description:"Opens the bookmark manager.",playground:!1},{label:"<Meta>+<Shift>+T",shortcut:"Meta+Shift+T",platform:"mac",browser:"chrome",description:"Reopens the last tab you've closed.",playground:!1},{label:"<Meta>+<Shift>+W",shortcut:"Meta+Shift+W",platform:"mac",browser:"chrome",description:"Close Window",playground:!1},{label:"<Meta>+H",shortcut:"Meta+H",platform:"mac",browser:"chrome",description:"Hides Google Chrome.",playground:!1},{label:"<Meta>+<Alt>+H",shortcut:"Meta+Alt+H",platform:"mac",browser:"chrome",description:"Hides all other windows.",playground:!1},{label:"<Meta>+<Shift>+H",shortcut:"Meta+Shift+H",platform:"mac",browser:"chrome",description:"Opens your home page in your current tab.",playground:!1},{label:"<Meta>+<Shift>+I",shortcut:"Meta+Shift+I",platform:"mac",browser:"chrome",description:"Emails your current page.",playground:!1},{label:"<Meta>+<Shift>+P",shortcut:"Meta+Shift+P",platform:"mac",browser:"chrome",description:"Opens the Page Setup dialog.",playground:!1},{label:"<Meta>+,",shortcut:"Meta+,",platform:"mac",browser:"chrome",description:"Opens the Settings page.",playground:!1},{label:"<Meta>+E",shortcut:"Meta+E",platform:"mac",browser:"chrome",description:"Uses selection for find",playground:!1},{label:"<Alt>+F4",shortcut:"Alt+F4",platform:"mac",browser:"chrome",description:"Close Window",playground:!1},{label:"<Meta>+<Shift>+Delete",shortcut:"Meta+Shift+Delete",platform:"mac",browser:"chrome",description:"Opens the Clear Browsing Data dialog.",playground:!1},{label:"<Meta>+<Alt>+Right",shortcut:"Meta+Alt+Right",platform:"mac",browser:"chrome",description:"Switches to the next tab.",playground:!1},{label:"<Meta>+<Alt>+Left",shortcut:"Meta+Alt+Left",platform:"mac",browser:"chrome",description:"Switches to the previous tab.",playground:!1},{label:"<Ctrl>+pagedown",shortcut:"Ctrl+pagedown",platform:"mac",browser:"chrome",description:"Switches to the next tab.",playground:!1},{label:"<Ctrl>+pageup",shortcut:"Ctrl+pageup",platform:"mac",browser:"chrome",description:"Switches to the previous tab.",playground:!1},{label:"<Alt>+home",shortcut:"Alt+home",platform:"mac",browser:"chrome",description:"Open Home Page",playground:!1},{label:"<Meta>+LeftMouseClick",shortcut:"Meta+LeftMouseClick",platform:"mac",browser:"chrome",description:"Opens the link in a new tab in the background.",playground:!0},{label:"<Meta>+<Shift>+LeftMouseClick",shortcut:"Meta+Shift+LeftMouseClick",platform:"mac",browser:"chrome",description:"Opens the link in a new tab in the background.",playground:!0},{label:"<Shift>+LeftMouseClick",shortcut:"Shift+LeftMouseClick",platform:"mac",browser:"chrome",description:"Opens the link in a new window.",playground:!0},{label:"Right Click",shortcut:"RightMouseClick",platform:"mac",browser:"chrome",description:"Context Menu",playground:!1},{label:"<Alt>+LeftMouseClick",shortcut:"Alt+LeftMouseClick",platform:"mac",browser:"chrome",description:"Downloads the target of the link.",playground:!0},{label:"esc",shortcut:"esc",platform:"mac",browser:"firefox",description:"Stop Loading",playground:!1},{label:"<Meta>+.",shortcut:"Meta+.",platform:"mac",browser:"firefox",description:"Stop Loading",playground:!1},{label:"F5",shortcut:"F5",platform:"mac",browser:"firefox",description:"Reloads your current page.",playground:!1},{label:"<Meta>+1",shortcut:"Meta+1",platform:"mac",browser:"firefox",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Meta>+2",shortcut:"Meta+2",platform:"mac",browser:"firefox",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Meta>+3",shortcut:"Meta+3",platform:"mac",browser:"firefox",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Meta>+4",shortcut:"Meta+4",platform:"mac",browser:"firefox",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Meta>+5",shortcut:"Meta+5",platform:"mac",browser:"firefox",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Meta>+6",shortcut:"Meta+6",platform:"mac",browser:"firefox",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Meta>+7",shortcut:"Meta+7",platform:"mac",browser:"firefox",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Meta>+8",shortcut:"Meta+8",platform:"mac",browser:"firefox",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Meta>+9",shortcut:"Meta+9",platform:"mac",browser:"firefox",description:"Switches to the last tab.",playground:!1},{label:"<Meta>+B",shortcut:"Meta+B",platform:"mac",browser:"firefox",description:"Bookmarks Sidebar (toggle)",playground:!1},{label:"<Meta>+D",shortcut:"Meta+D",platform:"mac",browser:"firefox",description:"Add bookmark",playground:!1},{label:"<Meta>+F",shortcut:"Meta+F",platform:"mac",browser:"firefox",description:"Find in This Page",playground:!1},{label:"<Meta>+G",shortcut:"Meta+G",platform:"mac",browser:"firefox",description:"Find Again",playground:!1},{label:"<Meta>+<Shift>+H",shortcut:"Meta+Shift+H",platform:"mac",browser:"firefox",description:"Browsing History (toggle)",playground:!1},{label:"<Meta>+J",shortcut:"Meta+J",platform:"mac",browser:"firefox",description:"Download History",playground:!1},{label:"<Meta>+K",shortcut:"Meta+K",platform:"mac",browser:"firefox",description:"Select Search Bar",playground:!1},{label:"<Meta>+L",shortcut:"Meta+L",platform:"mac",browser:"firefox",description:"Select Location Bar",playground:!1},{label:"<Meta>+N",shortcut:"Meta+N",platform:"mac",browser:"firefox",description:"Open new window.",playground:!1},{label:"<Meta>+O",shortcut:"Meta+O",platform:"mac",browser:"firefox",description:"Open File",playground:!1},{label:"<Meta>+P",shortcut:"Meta+P",platform:"mac",browser:"firefox",description:"Prints your current page.",playground:!1},{label:"<Meta>+R",shortcut:"Meta+R",platform:"mac",browser:"firefox",description:"Reloads your current page.",playground:!1},{label:"<Meta>+S",shortcut:"Meta+S",platform:"mac",browser:"firefox",description:"Save Page As",playground:!1},{label:"<Meta>+T",shortcut:"Meta+T",platform:"mac",browser:"firefox",description:"Open new tab.",playground:!1},{label:"<Meta>+U",shortcut:"Meta+U",platform:"mac",browser:"firefox",description:"Page Source",playground:!1},{label:"<Meta>+W",shortcut:"Meta+W",platform:"mac",browser:"firefox",description:"Close Tab (close Window if only one tab)",playground:!1},{label:"<Meta>+<Shift>+G",shortcut:"Meta+Shift+G",platform:"mac",browser:"firefox",description:"Find Previous",playground:!1},{label:"<Meta>+<Shift>+R",shortcut:"Meta+Shift+R",platform:"mac",browser:"firefox",description:"Force Reload Page (override cache)",playground:!1},{label:"<Alt>+F4",shortcut:"Alt+F4",platform:"mac",browser:"firefox",description:"Close Window",playground:!1},{label:"<Alt>+return",shortcut:"Alt+return",platform:"mac",browser:"firefox",description:"Save Link Target As",playground:!0},{label:"<Alt>+home",shortcut:"Alt+home",platform:"mac",browser:"firefox",description:"Open Home Page",playground:!1},{label:"<Meta>+Left",shortcut:"Meta+Left",platform:"mac",browser:"firefox",description:"Back one Page",playground:!1},{label:"<Meta>+Right",shortcut:"Meta+Right",platform:"mac",browser:"firefox",description:"Forward one Page",playground:!1},{label:"<Meta>+[",shortcut:"Meta+[",platform:"mac",browser:"firefox",description:"Back one Page",playground:!1},{label:"<Meta>+]",shortcut:"Meta+]",platform:"mac",browser:"firefox",description:"Forward one Page",playground:!1},{label:"<Meta>+return",shortcut:"Meta+return",platform:"mac",browser:"firefox",description:"Open Link (in new Background Tab)",playground:!0},{label:"<Meta>+F4",shortcut:"Meta+F4",platform:"mac",browser:"firefox",description:"Closes the current tab or pop-up.",playground:!1},{label:"<Meta>+F5",shortcut:"Meta+F5",platform:"mac",browser:"firefox",description:"Force Reload Page (override cache)",playground:!1},{label:"<Meta>+<Shift>+T",shortcut:"Meta+Shift+T",platform:"mac",browser:"firefox",description:"Undo Close Tab",playground:!1},{label:"<Ctrl>+tab",shortcut:"Ctrl+tab",platform:"mac",browser:"firefox",description:"Next Tab",playground:!1},{label:"<Ctrl>+pagedown",shortcut:"Ctrl+pagedown",platform:"mac",browser:"firefox",description:"Switches to the next tab.",playground:!1},{label:"<Ctrl>+pageup",shortcut:"Ctrl+pageup",platform:"mac",browser:"firefox",description:"Switches to the previous tab.",playground:!1},{label:"<Meta>+<Shift>+W",shortcut:"Meta+Shift+W",platform:"mac",browser:"firefox",description:"Close Window",playground:!1},{label:"<Shift>+F3",shortcut:"Shift+F3",platform:"mac",browser:"firefox",description:"Find Previous",playground:!1},{label:"<Shift>+return",shortcut:"Shift+return",platform:"mac",browser:"firefox",description:"Open Link in New Window",playground:!0},{label:"Right Click",shortcut:"RightMouseClick",platform:"mac",browser:"firefox",description:"Context Menu",playground:!1},{label:"<Meta>+<Shift>+LeftMouseClick",shortcut:"Meta+Shift+LeftMouseClick",platform:"mac",browser:"firefox",description:"Open Link (in new Foreground Tab)",playground:!0},{label:"<Meta>+LeftMouseClick",shortcut:"Meta+LeftMouseClick",platform:"mac",browser:"firefox",description:"Open Link (in new Background Tab)",playground:!0},{label:"<Shift>+LeftMouseClick",shortcut:"Shift+LeftMouseClick",platform:"mac",browser:"firefox",description:"Open Link in New Window",playground:!0},{label:"Quick Find Link",shortcut:"",platform:"mac",browser:"firefox",description:"Quick Find Link (not critical)",playground:!0},{label:"<Ctrl>+c",shortcut:"Ctrl+c",platform:"win",browser:"all",description:"Copy to clipboard.",playground:!0},{label:"<Ctrl>+v",shortcut:"Ctrl+v",platform:"win",browser:"all",description:"Paste from clipboard.",playground:!0},{label:"<Ctrl>+x",shortcut:"Ctrl+x",platform:"win",browser:"all",description:"Cut to the clipboard",playground:!0},{label:"<Ctrl>+esc",shortcut:"Ctrl+esc",platform:"win",browser:"all",description:"Opens windows menu / dock.",playground:!1},{label:"<Ctrl>+F4",shortcut:"Ctrl+F4",platform:"win",browser:"all",description:"Close the active window.",playground:!1},{label:"<Shift>+F6",shortcut:"Shift+F6",platform:"win",browser:"all",description:"Switches focus to the next keyboard-accessible pane. (Doesn't seem to work in fullscreen mode.)",playground:!1},{label:"<Alt>+esc",shortcut:"Alt+esc",platform:"win",browser:"all",description:"Switch Applications",playground:!1},{label:"<Alt>+tab",shortcut:"Alt+tab",platform:"win",browser:"all",description:"Switch Applications",playground:!1},{label:"<Alt>+space",shortcut:"Alt+space",platform:"win",browser:"all",description:"Open the shortcut menu for the active window",playground:!0},{label:"<Alt>+F4",shortcut:"Alt+F4",platform:"win",browser:"all",description:"Close application",playground:!1},{label:"PrtScn",shortcut:"PrtScn",platform:"win",browser:"all",description:"Take screenshot (entire screen)",playground:!1},{label:"<Alt>+PrtScn",shortcut:"Alt+PrtScn",platform:"win",browser:"all",description:"Take screenshot (partial / active window)",playground:!1},{label:"<Meta>+D",shortcut:"Meta+D",platform:"win",browser:"all",description:"Minimize (All)",playground:!1},{label:"esc",shortcut:"esc",platform:"win",browser:"chrome",description:"Stops the loading of the current page.",playground:!1},{label:"backspace",shortcut:"backspace",platform:"win",browser:"chrome",description:"Goes to the previous page in your browsing history for the tab.",playground:!1},{label:"F1",shortcut:"F1",platform:"win",browser:"chrome",description:"Browser Help",playground:!1},{label:"F3",shortcut:"F3",platform:"win",browser:"chrome",description:"Finds the next match for your input in the find bar.",playground:!1},{label:"F5",shortcut:"F5",platform:"win",browser:"chrome",description:"Reloads your current page.",playground:!1},{label:"F6",shortcut:"F6",platform:"win",browser:"chrome",description:"Switches focus to the next keyboard-accessible pane.",playground:!1},{label:"F10",shortcut:"F10",platform:"win",browser:"chrome",description:"Opens the Chrome menu Chrome menu",playground:!1},{label:"F11",shortcut:"F11",platform:"win",browser:"chrome",description:"Opens or Exits current page in full-screen mode. (TAO will enforce full screen.)",playground:!1},{label:"F12",shortcut:"F12",platform:"win",browser:"chrome",description:"Opens Developer Tools.",playground:!1},{label:"<Ctrl>+1",shortcut:"Ctrl+1",platform:"win",browser:"chrome",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Ctrl>+2",shortcut:"Ctrl+2",platform:"win",browser:"chrome",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Ctrl>+3",shortcut:"Ctrl+3",platform:"win",browser:"chrome",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Ctrl>+4",shortcut:"Ctrl+4",platform:"win",browser:"chrome",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Ctrl>+5",shortcut:"Ctrl+5",platform:"win",browser:"chrome",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Ctrl>+6",shortcut:"Ctrl+6",platform:"win",browser:"chrome",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Ctrl>+7",shortcut:"Ctrl+7",platform:"win",browser:"chrome",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Ctrl>+8",shortcut:"Ctrl+8",platform:"win",browser:"chrome",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Ctrl>+9",shortcut:"Ctrl+9",platform:"win",browser:"chrome",description:"Switches to the last tab.",playground:!1},{label:"<Ctrl>+d",shortcut:"Ctrl+d",platform:"win",browser:"chrome",description:"Saves your current webpage as a bookmark.",playground:!1},{label:"<Ctrl>+e",shortcut:"Ctrl+e",platform:"win",browser:"chrome",description:"Places a '?' in the address bar. (Appears not to work in Full Screen Mode)",playground:!1},{label:"<Ctrl>+f",shortcut:"Ctrl+f",platform:"win",browser:"chrome",description:"Opens the find bar.",playground:!1},{label:"<Ctrl>+g",shortcut:"Ctrl+g",platform:"win",browser:"chrome",description:"Finds the next match for your input in the find bar.",playground:!1},{label:"<Ctrl>+h",shortcut:"Ctrl+h",platform:"win",browser:"chrome",description:"Opens the History page.",playground:!1},{label:"<Ctrl>+j",shortcut:"Ctrl+j",platform:"win",browser:"chrome",description:"Opens the Downloads page.",playground:!1},{label:"<Ctrl>+k",shortcut:"Ctrl+k",platform:"win",browser:"chrome",description:"Places a '?' in the address bar. (Appears not to work in Full Screen Mode)",playground:!1},{label:"<Ctrl>+l",shortcut:"Ctrl+l",platform:"win",browser:"chrome",description:"Highlights the URL. (Appears not to work in Full Screen Mode)",playground:!0},{label:"<Ctrl>+n",shortcut:"Ctrl+n",platform:"win",browser:"chrome",description:"Opens a new window.",playground:!1},{label:"<Ctrl>+o",shortcut:"Ctrl+o",platform:"win",browser:"chrome",description:"Opens a file from your computer in Google Chrome.",playground:!1},{label:"<Ctrl>+p",shortcut:"Ctrl+p",platform:"win",browser:"chrome",description:"Prints your current page.",playground:!1},{label:"<Ctrl>+q",shortcut:"Ctrl+q",platform:"win",browser:"chrome",description:"Quits Google Chrome.",playground:!1},{label:"<Ctrl>+r",shortcut:"Ctrl+r",platform:"win",browser:"chrome",description:"Reloads your current page.",playground:!1},{label:"<Ctrl>+s",shortcut:"Ctrl+s",platform:"win",browser:"chrome",description:"Saves your current page.",playground:!1},{label:"<Ctrl>+t",shortcut:"Ctrl+t",platform:"win",browser:"chrome",description:"Opens a new tab.",playground:!1},{label:"<Ctrl>+u",shortcut:"Ctrl+u",platform:"win",browser:"chrome",description:"Opens the source of your current page.",playground:!1},{label:"<Ctrl>+w",shortcut:"Ctrl+w",platform:"win",browser:"chrome",description:"Closes the current tab or pop-up.",playground:!1},{label:"<Ctrl>+<Shift>+B",shortcut:"Ctrl+Shift+B",platform:"win",browser:"chrome",description:"Toggles the bookmarks bar on and off.  (Appears not to work in Full Screen Mode)",playground:!1},{label:"<Ctrl>+<Shift>+C",shortcut:"Ctrl+Shift+C",platform:"win",browser:"chrome",description:"Open / switch from inspect element mode and browser window",playground:!1},{label:"<Ctrl>+<Shift>+D",shortcut:"Ctrl+Shift+D",platform:"win",browser:"chrome",description:"Saves all open pages as bookmarks in a new folder.",playground:!1},{label:"<Ctrl>+<Shift>+G",shortcut:"Ctrl+Shift+G",platform:"win",browser:"chrome",description:"Finds the previous match for your input in the find bar.",playground:!1},{label:"<Ctrl>+<Shift>+I",shortcut:"Ctrl+Shift+I",platform:"win",browser:"chrome",description:"Opens Developer Tools.",playground:!1},{label:"<Ctrl>+<Shift>+J",shortcut:"Ctrl+Shift+J",platform:"win",browser:"chrome",description:"Open Developer Tools and bring focus to the console",playground:!1},{label:"<Ctrl>+<Shift>+M",shortcut:"Ctrl+Shift+M",platform:"win",browser:"chrome",description:"Switch between multiple users.",playground:!1},{label:"<Ctrl>+<Shift>+N",shortcut:"Ctrl+Shift+N",platform:"win",browser:"chrome",description:"Opens a new window in incognito mode.",playground:!1},{label:"<Ctrl>+<Shift>+O",shortcut:"Ctrl+Shift+O",platform:"win",browser:"chrome",description:"Opens the bookmark manager.",playground:!1},{label:"<Ctrl>+<Shift>+Q",shortcut:"Ctrl+Shift+Q",platform:"win",browser:"chrome",description:"Quits Google Chrome.",playground:!1},{label:"<Ctrl>+<Shift>+T",shortcut:"Ctrl+Shift+T",platform:"win",browser:"chrome",description:"Reopens the last tab you've closed.",playground:!1},{label:"<Ctrl>+<Shift>+W",shortcut:"Ctrl+Shift+W",platform:"win",browser:"chrome",description:"Close Window",playground:!1},{label:"<Alt>+d",shortcut:"Alt+d",platform:"win",browser:"chrome",description:"Highlights the URL. (Appears not to work in Full Screen Mode)",playground:!0},{label:"<Alt>+e",shortcut:"Alt+e",platform:"win",browser:"chrome",description:"Opens the Chrome menu",playground:!1},{label:"<Alt>+f",shortcut:"Alt+f",platform:"win",browser:"chrome",description:"Opens the Chrome menu",playground:!1},{label:"<Alt>+F4",shortcut:"Alt+F4",platform:"win",browser:"chrome",description:"Close Window",playground:!1},{label:"<Ctrl>+<Shift>+Delete",shortcut:"Ctrl+Shift+Delete",platform:"win",browser:"chrome",description:"Opens the Clear Browsing Data dialog.",playground:!1},{label:"<Ctrl>+tab",shortcut:"Ctrl+tab",platform:"win",browser:"chrome",description:"Switches to the next tab.",playground:!1},{label:"<Ctrl>+shift+tab",shortcut:"Ctrl+shift+tab",platform:"win",browser:"chrome",description:"Switches to the previous tab.",playground:!1},{label:"<Ctrl>+pagedown",shortcut:"Ctrl+pagedown",platform:"win",browser:"chrome",description:"Switches to the next tab.",playground:!1},{label:"<Ctrl>+pageup",shortcut:"Ctrl+pageup",platform:"win",browser:"chrome",description:"Switches to the previous tab.",playground:!1},{label:"<Ctrl>+F4",shortcut:"Ctrl+F4",platform:"win",browser:"chrome",description:"Closes the current tab or pop-up.",playground:!1},{label:"<Ctrl>+F5",shortcut:"Ctrl+F5",platform:"win",browser:"chrome",description:"Reloads your current page, ignoring cached content.",playground:!1},{label:"<Shift>+esc",shortcut:"Shift+esc",platform:"win",browser:"chrome",description:"Opens the Chrome Task Manager.",playground:!1},{label:"<Shift>+backspace",shortcut:"Shift+backspace",platform:"win",browser:"chrome",description:"Goes to the next page in your browsing history for the tab.",playground:!1},{label:"<Shift>+F3",shortcut:"Shift+F3",platform:"win",browser:"chrome",description:"Finds the previous match for your input in the find bar.",playground:!1},{label:"<Shift>+F5",shortcut:"Shift+F5",platform:"win",browser:"chrome",description:"Reloads your current page, ignoring cached content.",playground:!1},{label:"<Alt>+left",shortcut:"Alt+left",platform:"win",browser:"chrome",description:"Goes to the previous page in your browsing history for the tab.",playground:!1},{label:"<Alt>+right",shortcut:"Alt+right",platform:"win",browser:"chrome",description:"Goes to the next page in your browsing history for the tab.",playground:!1},{label:"<Alt>+home",shortcut:"Alt+home",platform:"win",browser:"chrome",description:"Open Home Page",playground:!1},{label:"<Ctrl>+LeftMouseClick",shortcut:"Ctrl+LeftMouseClick",platform:"win",browser:"chrome",description:"Opens the link in a new tab in the background.",playground:!0},{label:"<Ctrl>+<Shift>+LeftMouseClick",shortcut:"Ctrl+Shift+LeftMouseClick",platform:"win",browser:"chrome",description:"Opens the link in a new tab in the background.",playground:!0},{label:"<Shift>+LeftMouseClick",shortcut:"Shift+LeftMouseClick",platform:"win",browser:"chrome",description:"Opens the link in a new window.",playground:!0},{label:"Right Click",shortcut:"RightMouseClick",platform:"win",browser:"chrome",description:"Context Menu",playground:!1},{label:"<Alt>+LeftMouseClick",shortcut:"Alt+LeftMouseClick",platform:"win",browser:"chrome",description:"Downloads the target of the link.",playground:!0},{label:"esc",shortcut:"esc",platform:"win",browser:"firefox",description:"Stop Loading",playground:!1},{label:"backspace",shortcut:"backspace",platform:"win",browser:"firefox",description:"Back one page",playground:!1},{label:"F1",shortcut:"F1",platform:"win",browser:"firefox",description:"Help",playground:!1},{label:"F3",shortcut:"F3",platform:"win",browser:"firefox",description:"Find Again",playground:!1},{label:"F5",shortcut:"F5",platform:"win",browser:"firefox",description:"Reloads your current page.",playground:!1},{label:"F11",shortcut:"F11",platform:"win",browser:"firefox",description:"Opens or Exits current page in full-screen mode. (TAO will enforce full screen.)",playground:!1},{label:"<Ctrl>+1",shortcut:"Ctrl+1",platform:"win",browser:"firefox",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Ctrl>+2",shortcut:"Ctrl+2",platform:"win",browser:"firefox",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Ctrl>+3",shortcut:"Ctrl+3",platform:"win",browser:"firefox",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Ctrl>+4",shortcut:"Ctrl+4",platform:"win",browser:"firefox",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Ctrl>+5",shortcut:"Ctrl+5",platform:"win",browser:"firefox",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Ctrl>+6",shortcut:"Ctrl+6",platform:"win",browser:"firefox",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Ctrl>+7",shortcut:"Ctrl+7",platform:"win",browser:"firefox",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Ctrl>+8",shortcut:"Ctrl+8",platform:"win",browser:"firefox",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Ctrl>+9",shortcut:"Ctrl+9",platform:"win",browser:"firefox",description:"Switches to the last tab.",playground:!1},{label:"<Ctrl>+b",shortcut:"Ctrl+b",platform:"win",browser:"firefox",description:"Bookmarks Sidebar (toggle)",playground:!1},{label:"<Ctrl>+d",shortcut:"Ctrl+d",platform:"win",browser:"firefox",description:"Add bookmark",playground:!1},{label:"<Ctrl>+f",shortcut:"Ctrl+f",platform:"win",browser:"firefox",description:"Find in This Page",playground:!1},{label:"<Ctrl>+g",shortcut:"Ctrl+g",platform:"win",browser:"firefox",description:"Find Again",playground:!1},{label:"<Ctrl>+h",shortcut:"Ctrl+h",platform:"win",browser:"firefox",description:"Browsing History (toggle)",playground:!1},{label:"<Ctrl>+i",shortcut:"Ctrl+i",platform:"win",browser:"firefox",description:"Bookmarks Sidebar (toggle)",playground:!1},{label:"<Ctrl>+j",shortcut:"Ctrl+j",platform:"win",browser:"firefox",description:"Download History",playground:!1},{label:"<Ctrl>+k",shortcut:"Ctrl+k",platform:"win",browser:"firefox",description:"Select Search Bar",playground:!1},{label:"<Ctrl>+l",shortcut:"Ctrl+l",platform:"win",browser:"firefox",description:"Select Location Bar",playground:!1},{label:"<Ctrl>+n",shortcut:"Ctrl+n",platform:"win",browser:"firefox",description:"Open new window.",playground:!1},{label:"<Ctrl>+o",shortcut:"Ctrl+o",platform:"win",browser:"firefox",description:"Open File",playground:!1},{label:"<Ctrl>+p",shortcut:"Ctrl+p",platform:"win",browser:"firefox",description:"Prints your current page.",playground:!1},{label:"<Ctrl>+r",shortcut:"Ctrl+r",platform:"win",browser:"firefox",description:"Reloads your current page.",playground:!1},{label:"<Ctrl>+s",shortcut:"Ctrl+s",platform:"win",browser:"firefox",description:"Save Page As",playground:!1},{label:"<Ctrl>+t",shortcut:"Ctrl+t",platform:"win",browser:"firefox",description:"Open new tab.",playground:!1},{label:"<Ctrl>+u",shortcut:"Ctrl+u",platform:"win",browser:"firefox",description:"Page Source",playground:!1},{label:"<Ctrl>+w",shortcut:"Ctrl+w",platform:"win",browser:"firefox",description:"Close Tab (close Window if only one tab)",playground:!1},{label:"<Alt>+d",shortcut:"Alt+d",platform:"win",browser:"firefox",description:"Select Location Bar",playground:!1},{label:"<Ctrl>+<Shift>+G",shortcut:"Ctrl+Shift+G",platform:"win",browser:"firefox",description:"Find Previous",playground:!1},{label:"<Ctrl>+<Shift>+R",shortcut:"Ctrl+Shift+R",platform:"win",browser:"firefox",description:"Force Reload Page (override cache)",playground:!1},{label:"<Alt>+F4",shortcut:"Alt+F4",platform:"win",browser:"firefox",description:"Close Window",playground:!1},{label:"<Alt>+return",shortcut:"Alt+return",platform:"win",browser:"firefox",description:"Save Link Target As",playground:!0},{label:"<Alt>+home",shortcut:"Alt+home",platform:"win",browser:"firefox",description:"Open Home Page",playground:!1},{label:"<Alt>+left",shortcut:"Alt+left",platform:"win",browser:"firefox",description:"Back one Page",playground:!1},{label:"<Alt>+right",shortcut:"Alt+right",platform:"win",browser:"firefox",description:"Forward one Page",playground:!1},{label:"<Ctrl>+[",shortcut:"Ctrl+[",platform:"win",browser:"firefox",description:"Back one Page",playground:!1},{label:"<Ctrl>+]",shortcut:"Ctrl+]",platform:"win",browser:"firefox",description:"Forward one Page",playground:!1},{label:"<Ctrl>+return",shortcut:"Ctrl+return",platform:"win",browser:"firefox",description:"Open Link (in new Background Tab)",playground:!0},{label:"<Ctrl>+F4",shortcut:"Ctrl+F4",platform:"win",browser:"firefox",description:"Closes the current tab or pop-up.",playground:!1},{label:"<Ctrl>+F5",shortcut:"Ctrl+F5",platform:"win",browser:"firefox",description:"Force Reload Page (override cache)",playground:!1},{label:"<Ctrl>+<Shift>+T",shortcut:"Ctrl+Shift+T",platform:"win",browser:"firefox",description:"Undo Close Tab",playground:!1},{label:"<Ctrl>+<Shift>+Del",shortcut:"Ctrl+Shift+Del",platform:"win",browser:"firefox",description:"Clear Private Data",playground:!1},{label:"<Ctrl>+tab",shortcut:"Ctrl+tab",platform:"win",browser:"firefox",description:"Next Tab",playground:!1},{label:"<Ctrl>+pagedown",shortcut:"Ctrl+pagedown",platform:"win",browser:"firefox",description:"Switches to the next tab.",playground:!1},{label:"<Ctrl>+pageup",shortcut:"Ctrl+pageup",platform:"win",browser:"firefox",description:"Switches to the previous tab.",playground:!1},{label:"<Ctrl>+<Shift>+W",shortcut:"Ctrl+Shift+W",platform:"win",browser:"firefox",description:"Close Window",playground:!1},{label:"<Shift>+backspace",shortcut:"Shift+backspace",platform:"win",browser:"firefox",description:"Forward one Page",playground:!1},{label:"<Shift>+F3",shortcut:"Shift+F3",platform:"win",browser:"firefox",description:"Find Previous",playground:!1},{label:"<Shift>+return",shortcut:"Shift+return",platform:"win",browser:"firefox",description:"Open Link in New Window",playground:!0},{label:"Right Click",shortcut:"RightMouseClick",platform:"win",browser:"firefox",description:"Context Menu",playground:!1},{label:"<Alt>+LeftMouseClick",shortcut:"Alt+LeftMouseClick",platform:"win",browser:"firefox",description:"Save Page As",playground:!1},{label:"<Shift>+MouseScrollDown",shortcut:"Shift+MouseScrollDown",platform:"win",browser:"firefox",description:"Back one Page",playground:!1},{label:"<Shift>+MouseScrollUp",shortcut:"Shift+MouseScrollUp",platform:"win",browser:"firefox",description:"Forward one Page",playground:!1},{label:"<Ctrl>+<Shift>+LeftMouseClick",shortcut:"Ctrl+Shift+LeftMouseClick",platform:"win",browser:"firefox",description:"Open Link (in new Foreground Tab)",playground:!0},{label:"<Ctrl>+LeftMouseClick",shortcut:"Ctrl+LeftMouseClick",platform:"win",browser:"firefox",description:"Open Link (in new Background Tab)",playground:!0},{label:"MiddleMouseClick",shortcut:"MiddleMouseClick",platform:"win",browser:"firefox",description:"Open Link (in new Background Tab)",playground:!0},{label:"<Shift>+MiddleMouseClick",shortcut:"Shift+MiddleMouseClick",platform:"win",browser:"firefox",description:"Open Link (in new Foreground Tab)",playground:!0},{label:"<Shift>+LeftMouseClick",shortcut:"Shift+LeftMouseClick",platform:"win",browser:"firefox",description:"Open Link in New Window",playground:!0},{label:"Quick Find Link",shortcut:"",platform:"win",browser:"firefox",description:"Quick Find Link (not critical)",playground:!0},{label:"esc",shortcut:"esc",platform:"win",browser:"ie",description:"Stop downloading a page",playground:!1},{label:"backspace",shortcut:"backspace",platform:"win",browser:"ie",description:"Go to the previous page",playground:!1},{label:"F1",shortcut:"F1",platform:"win",browser:"ie",description:"Display Internet Explorer Help or to display context Help about an item in a dialog box",playground:!1},{label:"F3",shortcut:"F3",platform:"win",browser:"ie",description:"Find on this page",playground:!1},{label:"F4",shortcut:"F4",platform:"win",browser:"ie",description:"Display a list of addresses that you have typed",playground:!1},{label:"F5",shortcut:"F5",platform:"win",browser:"ie",description:"Refresh the current Web page",playground:!1},{label:"F11",shortcut:"F11",platform:"win",browser:"ie",description:"Toggle between full-screen and other views in the browser (TAO will enforce full screen.)",playground:!1},{label:"<Ctrl>+1",shortcut:"Ctrl+1",platform:"win",browser:"ie",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Ctrl>+2",shortcut:"Ctrl+2",platform:"win",browser:"ie",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Ctrl>+3",shortcut:"Ctrl+3",platform:"win",browser:"ie",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Ctrl>+4",shortcut:"Ctrl+4",platform:"win",browser:"ie",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Ctrl>+5",shortcut:"Ctrl+5",platform:"win",browser:"ie",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Ctrl>+6",shortcut:"Ctrl+6",platform:"win",browser:"ie",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Ctrl>+7",shortcut:"Ctrl+7",platform:"win",browser:"ie",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Ctrl>+8",shortcut:"Ctrl+8",platform:"win",browser:"ie",description:"Switches to the tab at the specified position number on the tab strip.",playground:!1},{label:"<Ctrl>+9",shortcut:"Ctrl+9",platform:"win",browser:"ie",description:"Switches to the last tab.",playground:!1},{label:"<Ctrl>+b",shortcut:"Ctrl+b",platform:"win",browser:"ie",description:"Opens organize favorites",playground:!1},{label:"<Ctrl>+d",shortcut:"Ctrl+d",platform:"win",browser:"ie",description:"Add Favorite",playground:!1},{label:"<Ctrl>+e",shortcut:"Ctrl+e",platform:"win",browser:"ie",description:"Open the Search box (website search may not be possible in FS)",playground:!1},{label:"<Ctrl>+f",shortcut:"Ctrl+f",platform:"win",browser:"ie",description:"Find on this page",playground:!1},{label:"<Ctrl>+g",shortcut:"Ctrl+g",platform:"win",browser:"ie",description:"Open Feeds box",playground:!1},{label:"<Ctrl>+h",shortcut:"Ctrl+h",platform:"win",browser:"ie",description:"Open the History box",playground:!1},{label:"<Ctrl>+i",shortcut:"Ctrl+i",platform:"win",browser:"ie",description:"Open the Favorites box",playground:!1},{label:"<Ctrl>+j",shortcut:"Ctrl+j",platform:"win",browser:"ie",description:"View downloads",playground:!1},{label:"<Ctrl>+k",shortcut:"Ctrl+k",platform:"win",browser:"ie",description:"Open new tab",playground:!1},{label:"<Ctrl>+n",shortcut:"Ctrl+n",platform:"win",browser:"ie",description:"Open a new window",playground:!1},{label:"<Ctrl>+o",shortcut:"Ctrl+o",platform:"win",browser:"ie",description:"Open file or web page",playground:!1},{label:"<Ctrl>+p",shortcut:"Ctrl+p",platform:"win",browser:"ie",description:"Print the current page or active frame",playground:!1},{label:"<Ctrl>+r",shortcut:"Ctrl+r",platform:"win",browser:"ie",description:"Refresh the current Web page",playground:!1},{label:"<Ctrl>+s",shortcut:"Ctrl+s",platform:"win",browser:"ie",description:"Save the current page",playground:!1},{label:"<Ctrl>+t",shortcut:"Ctrl+t",platform:"win",browser:"ie",description:"Open new tab",playground:!1},{label:"<Ctrl>+u",shortcut:"Ctrl+u",platform:"win",browser:"ie",description:"View source",playground:!1},{label:"<Ctrl>+w",shortcut:"Ctrl+w",platform:"win",browser:"ie",description:"Close the current window",playground:!1},{label:"<Alt>+d",shortcut:"Alt+d",platform:"win",browser:"ie",description:"Select the text in the Address box",playground:!1},{label:"<Ctrl>+<Shift>+G",shortcut:"Ctrl+Shift+G",platform:"win",browser:"ie",description:"Add to favorites (Feeds)",playground:!1},{label:"<Ctrl>+<Shift>+H",shortcut:"Ctrl+Shift+H",platform:"win",browser:"ie",description:"Add to favorites (History)",playground:!1},{label:"<Ctrl>+<Shift>+I",shortcut:"Ctrl+Shift+I",platform:"win",browser:"ie",description:"Add to favorities (Favorites)",playground:!1},{label:"<Shift>+F10",shortcut:"Shift+F10",platform:"win",browser:"ie",description:"Display a shortcut menu for a link",playground:!0},{label:"<Alt>+F4",shortcut:"Alt+F4",platform:"win",browser:"ie",description:"Close the current or all windows",playground:!1},{label:"<Alt>+return",shortcut:"Alt+return",platform:"win",browser:"ie",description:"Toggle between full-screen and other views in the browser (TAO will enforce full screen.)",playground:!1},{label:"<Alt>+home",shortcut:"Alt+home",platform:"win",browser:"ie",description:"Go to your Home page",playground:!1},{label:"<Alt>+left",shortcut:"Alt+left",platform:"win",browser:"ie",description:"Go to the previous page",playground:!1},{label:"<Alt>+right",shortcut:"Alt+right",platform:"win",browser:"ie",description:"Go to the next page",playground:!1},{label:"<Ctrl>+F4",shortcut:"Ctrl+F4",platform:"win",browser:"ie",description:"Close current tab",playground:!1},{label:"<Ctrl>+F5",shortcut:"Ctrl+F5",platform:"win",browser:"ie",description:"Refresh the current Web page, even if the time stamp for the Web version and your locally stored version are the same",playground:!1},{label:"<Ctrl>+tab",shortcut:"Ctrl+tab",platform:"win",browser:"ie",description:"Move forward between frames (tabs)",playground:!1},{label:"<Ctrl>+shift+tab",shortcut:"Ctrl+shift+tab",platform:"win",browser:"ie",description:"Move back between frames (tabs)",playground:!1},{label:"<Shift>+F3",shortcut:"Shift+F3",platform:"win",browser:"ie",description:"Open find",playground:!1},{label:"Right Click",shortcut:"RightMouseClick",platform:"win",browser:"ie",description:"Context Menu",playground:!1},{label:"<Alt>+LeftMouseClick",shortcut:"Alt+LeftMouseClick",platform:"win",browser:"ie",description:"Save Page As",playground:!1},{label:"<Shift>+MouseScrollDown",shortcut:"Shift+MouseScrollDown",platform:"win",browser:"ie",description:"Back one Page",playground:!1},{label:"<Shift>+MouseScrollUp",shortcut:"Shift+MouseScrollUp",platform:"win",browser:"ie",description:"Forward one Page",playground:!1},{label:"<Ctrl>+<Shift>+LeftMouseClick",shortcut:"Ctrl+Shift+LeftMouseClick",platform:"win",browser:"ie",description:"Open Link (in new Foreground Tab)",playground:!0},{label:"<Ctrl>+LeftMouseClick",shortcut:"Ctrl+LeftMouseClick",platform:"win",browser:"ie",description:"Open Link (in new Background Tab)",playground:!0},{label:"MiddleMouseClick",shortcut:"MiddleMouseClick",platform:"win",browser:"ie",description:"Open Link (in new Background Tab)",playground:!0},{label:"<Shift>+MiddleMouseClick",shortcut:"Shift+MiddleMouseClick",platform:"win",browser:"ie",description:"Open Link (in new Foreground Tab)",playground:!0},{label:"<Shift>+LeftMouseClick",shortcut:"Shift+LeftMouseClick",platform:"win",browser:"ie",description:"Open Link in New Window",playground:!0}]}),define("taoTestRunnerPlugins/runner/plugins/security/disableCommands",["jquery","lodash","module","util/shortcut","json!taoTestRunnerPlugins/runner/plugins/security/commands.json","taoTests/runner/plugin"],function($,_,module,shortcutHelper,allShortcuts,pluginFactory){"use strict";function formatShortcut(label){return _.forEach(specialKeys[platform],function(spec,code){label=label.replace(code,spec)}),label}function registerEvent(target,eventName,listener){target.addEventListener?target.addEventListener(eventName,listener,!1):target.attachEvent?target.attachEvent("on"+eventName,listener):target["on"+eventName]=listener}function unregisterEvent(target,eventName,listener){target.removeEventListener?target.removeEventListener(eventName,listener,!1):target.detachEvent?target.detachEvent("on"+eventName,listener):target["on"+eventName]=null}var shortcuts=[],platform=0>navigator.platform.indexOf("Mac")?"win":"mac",specialKeys={mac:{"<Shift>":"Shift","<Ctrl>":"Ctrl","<Meta>":"Cmd","<Alt>":"Option"},win:{"<Shift>":"Shift","<Ctrl>":"Ctrl","<Meta>":"Win","<Alt>":"Alt"}},enabledInInput=["backspace","Meta+C","Meta+V","Meta+Alt+V","Meta+Shift+Alt+V","Meta+X","Ctrl+c","Ctrl+v","Ctrl+x"],defaultConfig={debounceDelay:500},config=_.defaults(module.config()||{},defaultConfig);return _.forEach(allShortcuts,function(shortcut){0<=shortcut.platform.indexOf(platform)&&(shortcut.label=formatShortcut(shortcut.label),shortcuts.push(shortcut))}),pluginFactory({name:"disableCommands",init:function init(){},install:function install(){function preventContextMenu(event){event.stopPropagation(),event.preventDefault(),testRunner.trigger("prohibited-key","contextmenu")}var prohibitedKeyFunc,prohibitedKeyDebounce,testRunner=this.getTestRunner();registerEvent(window,"contextmenu",preventContextMenu),_.forEach(shortcuts,function(shortcut){var inputEnabled=0<=_.indexOf(enabledInInput,shortcut.shortcut);prohibitedKeyFunc=function(event){inputEnabled&&$(event.target).closest(":input").length||(event.preventDefault(),testRunner.trigger("prohibited-key",shortcut.label,{avoidInput:!0}))},prohibitedKeyDebounce=_.debounce(prohibitedKeyFunc,config.debounceDelay,{leading:!0,trailing:!1}),shortcutHelper.add(shortcut.shortcut,prohibitedKeyDebounce,{prevent:!1})}),testRunner.on("destroy",function(){unregisterEvent(window,"contextmenu",preventContextMenu),_.forEach(shortcuts,function(shortcut){shortcutHelper.remove(shortcut.shortcut)})})}})}),define("css!taoTestRunnerPlugins/runner/plugins/security/css/fullscreen",[],function(){}),define("taoTestRunnerPlugins/runner/plugins/security/fullScreen",["lodash","i18n","jquery","taoTests/runner/plugin","taoQtiTest/runner/config/states","css!taoTestRunnerPlugins/runner/plugins/security/css/fullscreen"],function(_,__,$,pluginFactory,states){"use strict";function isFrameEmbedded(){return!!(window.parent&&window.parent!==window)}function checkFullScreen(){if(fullScreenProperty in doc){const isGenericFullScreen=!!doc[fullScreenProperty];return!!isGenericFullScreen||checkWindowSizeFullScreen()}return(screen.availHeight||screen.height-30)<=window.innerHeight}function checkWindowSizeFullScreen(){let screenWidthMaxGap=16/window.devicePixelRatio,screenHeightMaxGap=16/window.devicePixelRatio;const getIsWindowWidthFullScreen=()=>screen.width-window.outerWidth<=screenWidthMaxGap;let getIsWindowHeightFullScreen=()=>screen.height-window.outerHeight<=screenHeightMaxGap;return screen.height===screen.availHeight&&(getIsWindowHeightFullScreen=()=>screen.height-window.innerHeight<=screenHeightMaxGap),getIsWindowWidthFullScreen()&&getIsWindowHeightFullScreen()}function requestFullScreen(){docElem.requestFullscreen?docElem.requestFullscreen().catch(function(e){console.warn(e&&e.message)}):docElem.msRequestFullscreen?docElem.msRequestFullscreen():docElem.mozRequestFullScreen?docElem.mozRequestFullScreen():docElem.webkitRequestFullscreen&&docElem.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}function exitFullScreen(){doc.exitFullscreen&&doc.fullscreenElement?doc.exitFullscreen():doc.mozCancelFullScreen?doc.mozCancelFullScreen():doc.webkitExitFullscreen?doc.webkitExitFullscreen():doc.msExitFullscreen&&doc.msExitFullscreen()}function enterFullScreen(testRunner){docElem.className=docElem.className.replace(fullScreenRe,"")+" "+"fullscreen",testRunner.trigger("enterfullscreen")}function leaveFullScreen(testRunner){docElem.className=docElem.className.replace(fullScreenRe,""),testRunner.trigger("leavefullscreen")}function startFullScreenChangeObserver(){stopFullScreenChangeObserver(),changeObserverHandler=setInterval(function(){var event,isFS=checkFullScreen();isFS&&isFS===isFullScreen||(event=doc.createEvent("Event"),event.initEvent(fullScreenEventName,!0,!0),doc.dispatchEvent(event)),isFullScreen=isFS},2000)}function stopFullScreenChangeObserver(){clearInterval(changeObserverHandler)}var changeObserverHandler,doc=document,docElem=doc.documentElement,fullScreenCls="fullscreen",fullScreenRe=new RegExp("\\b"+fullScreenCls+"\\b"),changeInterval=2e3,isFullScreen=!1,shortcut=0===navigator.platform.toLowerCase().indexOf("mac")?"Ctrl+\u2318+F":"F11",message=__("This test needs to be taken in full screen mode (%s).",shortcut),launchError=__("Test could not be launched. Test must always be launched in a full screen mode."),fullScreenProperty=doc.exitFullscreen&&"fullscreenElement"||doc.msExitFullscreen&&"msFullscreenElement"||doc.mozCancelFullScreen&&"mozFullScreen"||doc.webkitExitFullscreen&&"webkitIsFullScreen",fullScreenEventName="onfullscreenchange"in doc&&"fullscreenchange"||"onmsfullscreenchange"in doc&&"MSFullscreenChange"||"onmozfullscreenchange"in doc&&"mozfullscreenchange"||"onwebkitfullscreenchange"in doc&&"webkitfullscreenchange"||"myfullscreenchange",fullScreenSupported=!!fullScreenProperty,iOS=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document;return pluginFactory({name:"fullScreen",init:function init(){function isAllowed(){return!iOS}function enableItem(){testRunner.itemRunner&&testRunner.trigger("enablenav enabletools")}function disableItem(){testRunner.trigger("disablenav disabletools")}function handleFullScreenChange(){_.delay(function(){isFullScreen=checkFullScreen(),isFullScreen?(enterFullScreen(testRunner),testRunner.trigger("closedialog.fullscreen")):(leaveFullScreen(testRunner),!fileUploadActivated&&alertUser())},100)}function startWebkitF11FullScreenChangeObserver(){window.addEventListener("resize",throttledHandleResizeToFullScreenChange)}function stopWebkitF11FullScreenChangeObserver(){window.removeEventListener("resize",throttledHandleResizeToFullScreenChange)}function addFocusListener(){window.addEventListener("focus",debouncedFocusListener)}function removeFocusListener(){window.removeEventListener("focus",debouncedFocusListener)}function alertUser(){!waitingForUser&&fullScreenSupported&&(waitingForUser=!0,stopFullScreenChangeObserver(),disableItem(),testRunner.trigger("alert.fullscreen",message,function(reason){return"escape"===reason||"esc"===reason?(waitingForUser=!1,alertUser()):void(requestFullScreen(),_.defer(function(){waitingForUser=!1,enableItem(),fullScreenSupported||startFullScreenChangeObserver()}))},dialogParams))}function doPause(){var context=testRunner.getTestContext();context.state<=states.testSession.interacting&&!testRunner.getState("finish")&&testRunner.trigger("pause",{reason:launchError})}const testRunner=this.getTestRunner(),dialogParams={},config=this.getConfig();let waitingForUser=!1,fileUploadActivated=!1;const debouncedFocusListener=_.debounce(()=>{handleFullScreenChange()},50);config&&config.focus&&(dialogParams.focus=config.focus);const throttledHandleResizeToFullScreenChange=_.throttle(handleFullScreenChange,50);if(isAllowed()){if(testRunner.after("renderitem.fullscreen",function(){testRunner.off("renderitem.fullscreen"),_.defer(function(){waitingForUser&&disableItem()})}),testRunner.on("finish leave exit",function(){doc.removeEventListener(fullScreenEventName,handleFullScreenChange),stopWebkitF11FullScreenChangeObserver(),removeFocusListener(),leaveFullScreen(testRunner),exitFullScreen()}),isFrameEmbedded())return testRunner.on("init",function(){waitingForUser=!0,disableItem(),testRunner.trigger("unsecured-launch").trigger("alert.fullscreen",launchError,doPause)});doc.addEventListener(fullScreenEventName,handleFullScreenChange),startWebkitF11FullScreenChangeObserver(),addFocusListener(),testRunner.after("renderitem.fullscreen",function(){isFullScreen=checkFullScreen(),isFullScreen?!fullScreenSupported&&startFullScreenChangeObserver():(leaveFullScreen(testRunner),alertUser()),testRunner.off("renderitem.fullscreen")});const exitFromFileSelection=()=>{fileUploadActivated=!1,window.removeEventListener("focus",exitFromFileSelection)},handleFileUploadClick=()=>{fileUploadActivated=!0,window.addEventListener("focus",exitFromFileSelection)};testRunner.after("renderitem.fileupload",function(){$("input[type='file']").on("click",handleFileUploadClick)}),testRunner.before("unloaditem.fileupload",function(){$("input[type='file']").off("click",handleFileUploadClick)})}else this.disable()}})}),define("taoTestRunnerPlugins/runner/plugins/security/preventCopy",["lodash","module","util/shortcut","taoTests/runner/plugin"],function(_,module,shortcutHelper,pluginFactory){"use strict";function registerEvent(target,eventName,listener){target.addEventListener?target.addEventListener(eventName,listener,!1):target.attachEvent?target.attachEvent("on"+eventName,listener):target["on"+eventName]=listener}function unregisterEvent(target,eventName,listener){target.removeEventListener?target.removeEventListener(eventName,listener,!1):target.detachEvent?target.detachEvent("on"+eventName,listener):target["on"+eventName]=null}function toKeyCode(combination){var keys=combination.split("+"),keyCode=0;return _.forEach(keys,function(key){"Ctrl"===key||"Meta"===key?keyCode+=1114112:1===key.length&&(keyCode+=key.toUpperCase().charCodeAt(0))}),keyCode}var allShortcuts=[{platform:"mac",key:"Meta+X",label:"Cmd+X"},{platform:"mac",key:"Meta+C",label:"Cmd+C"},{platform:"mac",key:"Meta+V",label:"Cmd+V"},{platform:"win",key:"Ctrl+X",label:"Ctrl+X"},{platform:"win",key:"Ctrl+C",label:"Ctrl+C"},{platform:"win",key:"Ctrl+V",label:"Ctrl+V"}],shortcuts={},platform=0>navigator.platform.indexOf("Mac")?"win":"mac",defaultConfig={debounceDelay:500},config=_.defaults(module.config()||{},defaultConfig);return _.forEach(allShortcuts,function(shortcut){0<=shortcut.platform.indexOf(platform)&&(shortcuts[toKeyCode(shortcut.key)]=shortcut)}),pluginFactory({name:"preventCopy",init:function init(){},install:function install(){function setUpIframeEvents(){var editors=window.CKEDITOR&&window.CKEDITOR.instances||[];_.forEach(editors,function(editor){editor.on("key",function(e){var keyCode=e.data.keyCode;keyCode&CKEDITOR.SHIFT&&(keyCode-=CKEDITOR.SHIFT),keyCode&CKEDITOR.ALT&&(keyCode-=CKEDITOR.ALT),shortcuts[keyCode]&&e.cancel()});var cutButton=editor.container.find(".cke_button__cut").$;cutButton.length&&$(cutButton[0]).closest(".cke_toolgroup").remove()})}function replaceSelection(target,newValue){const oldValue=target.value.toString().substring(target.selectionStart,target.selectionEnd),caretPosition=target.selectionStart,textBegin=target.value.substring(0,caretPosition),textEnd=target.value.substring(caretPosition+oldValue.length,target.value.length);target.value=textBegin+newValue+textEnd,target.selectionStart=caretPosition+newValue.length,target.selectionEnd=caretPosition+newValue.length,target.focus()}function onCopyCut(event){const target=$(event.target).closest("textarea, input, [contenteditable]")[0];if(target){const $target=$(target);if($target.hasClass("allow-copy"))return;const text=target.value.toString().substring(target.selectionStart,target.selectionEnd);isIe?window.clipboardData.setData("Text",""):event.clipboardData.setData("text/plain",""),"cut"===event.type&&replaceSelection(target,""),$target.attr("data-clipboard",text)}else event.stopPropagation(),testRunner.trigger("prohibited-key",event.type);event.preventDefault()}function onPaste(event){event.preventDefault();const target=$(event.target).closest("textarea, input, [contenteditable]")[0];if(target){const text=$(target).attr("data-clipboard")||"";replaceSelection(target,text)}else event.stopPropagation(),testRunner.trigger("prohibited-key",event.type)}var prohibitedKeyFunc,prohibitedKeyDebounce,testRunner=this.getTestRunner();const isIe="undefined"!=typeof window.clipboardData;registerEvent(window,"copy",onCopyCut),registerEvent(window,"cut",onCopyCut),registerEvent(window,"paste",onPaste),_.forEach(shortcuts,function(shortcut){prohibitedKeyFunc=function(event){$(event.target).closest(":input").length||testRunner.trigger("prohibited-key",shortcut.label)},prohibitedKeyDebounce=_.debounce(prohibitedKeyFunc,config.debounceDelay,{leading:!0,trailing:!1}),shortcutHelper.add(shortcut.key,prohibitedKeyDebounce,{avoidInput:!0})}),testRunner.on("renderitem",function(){setUpIframeEvents(),testRunner.getAreaBroker().getContentArea().find("textarea, input, [contenteditable]").attr("data-clipboard","")}).on("destroy",function(){unregisterEvent(window,"copy",onCopyCut),unregisterEvent(window,"cut",onCopyCut),unregisterEvent(window,"paste",onPaste),_.forEach(shortcuts,function(shortcut){shortcutHelper.remove(shortcut.key)})})}})}),define("taoTestRunnerPlugins/runner/plugins/security/preventScreenshot",["jquery","i18n","taoTests/runner/plugin"],function($,__,pluginFactory){"use strict";const platform=0>navigator.platform.indexOf("Mac")?"win":"mac",printScreenPauseMessage="The assessment has been paused due to an attempt to print screen. Please contact your proctor or administrator to resume your assessment.",isIe="undefined"!=typeof window.clipboardData,overrideContent=" ",$body=$("body"),blur=()=>$body.css("filter","blur(20px)"),unBlur=()=>$body.css("filter",""),triggerCopyEvent=()=>{isIe&&(document.designMode="on"),document.execCommand&&document.queryCommandSupported("copy")&&document.execCommand("copy"),isIe&&(document.designMode="off")},focusOnFakeInput=()=>{const input=document.createElement("input");input.setAttribute("value",overrideContent),input.classList.add("allow-copy"),document.body.appendChild(input),input.select(),triggerCopyEvent(),document.body.removeChild(input)},isPauseForced=testRunner=>{const{securePauseStateRequired}=testRunner.getTestContext(),{sectionPause,proctored}=testRunner.getOptions();return"boolean"==typeof sectionPause?sectionPause:proctored||securePauseStateRequired},preventScreenshot=testRunner=>{focusOnFakeInput(),isPauseForced(testRunner)&&testRunner.trigger("pause",{message:__(printScreenPauseMessage),reasons:{category:"examinee",subCategory:"behaviour"},originalMessage:printScreenPauseMessage})};return pluginFactory({name:"preventScreenshot",init:function init(){},install:function install(){const testRunner=this.getTestRunner();"mac"==platform?$(window).on(`keydown.${this.getName()}`,e=>{e.metaKey&&e.shiftKey&&blur()}).on(`keyup.${this.getName()}`,e=>{e.metaKey&&e.shiftKey||unBlur()}).on("focus",unBlur).on("click",unBlur):"win"==platform&&$(window).on(`keyup.${this.getName()}`,e=>{"PrintScreen"===e.key&&(testRunner.trigger("prohibited-key","PrintScreen"),preventScreenshot(testRunner))})},destroy:function destroy(){$(window).off("."+this.getName())}})}),define("taoTestRunnerPlugins/runner/plugins/security/sectionPause",["lodash","i18n","taoTests/runner/plugin","taoQtiTest/runner/helpers/map","taoQtiTest/runner/config/states"],function(_,__,pluginFactory,mapHelper,states){"use strict";var sectionPauseCategory="x-tao-proctored-auto-pause",pauseMessage="All students will begin the next section at the same time. Please relax quietly until the room supervisor starts the next section.";return pluginFactory({name:"sectionPause",init:function init(){var previousSection,testRunner=this.getTestRunner();testRunner.before("loaditem",function(){var context=testRunner.getTestContext(),map=testRunner.getTestMap(),section=mapHelper.getSection(map,context.sectionId),item=mapHelper.getItem(map,context.itemIdentifier);return new Promise(function(resolve,reject){return context.options.sectionPause&&previousSection&&section&&section.id!==previousSection.id&&item&&_.includes(item.categories,"x-tao-proctored-auto-pause")?(testRunner.on("leave.sectionPause",function(){testRunner.off(".sectionPause")}).before("error.sectionPause",function(){testRunner.getProxy().isOffline()&&testRunner.off(".sectionPause").before("pause.sectionPause",function(){return testRunner.trigger("leave",{code:states.testSession.suspended,message:pauseMessage}),Promise.reject()})}).trigger("disableitem").trigger("pause",{reasons:{category:"condition",subCategory:"pausedSection"},message:__(pauseMessage),originalMessage:pauseMessage}),reject()):(previousSection=section,resolve())})})}})}),define("tpl!taoTestRunnerPlugins/runner/plugins/security/templates/watermarkCirclePath",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression;return buffer+="<svg width=\"",(helper=helpers.boxSize)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.boxSize,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\" height=\"",(helper=helpers.boxSize)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.boxSize,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\" viewBox=\"0 0 ",(helper=helpers.boxSize)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.boxSize,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+" ",(helper=helpers.boxSize)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.boxSize,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\" xmlns=\"http://www.w3.org/2000/svg\">\n    <!-- <defs> -->\n        <path id=\"circlePath\" fill=\"none\" stroke=\"none\" d=\"M ",(helper=helpers.s)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.s,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+",",(helper=helpers.f)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.f,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+" A ",(helper=helpers.r)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.r,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+",",(helper=helpers.r)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.r,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+" 0 1,1 ",(helper=helpers.s)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.s,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+",",(helper=helpers.sr)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.sr,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+" A ",(helper=helpers.r)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.r,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+",",(helper=helpers.r)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.r,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+" 0 1,1 ",(helper=helpers.s)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.s,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+",",(helper=helpers.f)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.f,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\" />\n    <!-- </defs> -->\n    <text><textPath href=\"#circlePath\">",(helper=helpers.repeatedText)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.repeatedText,stack1="function"===typeof helper?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</textPath></text>\n</svg>",buffer})}),define("css!taoTestRunnerPlugins/runner/plugins/security/css/watermark",[],function(){}),define("taoTestRunnerPlugins/runner/plugins/security/watermark",["jquery","lodash","i18n","taoTests/runner/plugin","context","taoQtiTest/runner/helpers/map","core/digest","ui/dialog","taoQtiTest/runner/config/states","tpl!taoTestRunnerPlugins/runner/plugins/security/templates/watermarkCirclePath","css!taoTestRunnerPlugins/runner/plugins/security/css/watermark"],function($,_,__,pluginFactory,context,mapHelper,digest,dialog,states,watermarkCirclePathTpl){"use strict";var _Mathround=Math.round;function addMultikeyShortcut(triggerWord,action,abortController,freeSpaceTargets){const maxTimeBetweenKeys=3000;freeSpaceTargets=[document.body,...(freeSpaceTargets||[])];let typedWord="",prevTimestamp=Date.now();const handleKeyup=e=>{if(freeSpaceTargets.includes(e.target)){const isLetterKey=1===e.key.length;if(isLetterKey){const timestamp=Date.now();timestamp-prevTimestamp>maxTimeBetweenKeys&&(typedWord=""),prevTimestamp=timestamp,typedWord+=e.key,typedWord.length>triggerWord.length&&(typedWord=typedWord.substring(1)),typedWord===triggerWord&&(typedWord="",action())}}};freeSpaceTargets[0].addEventListener("keyup",handleKeyup,{signal:abortController.signal})}const defaultConfig={hashAlgorithm:"SHA-1",type:"horizontal",layer:"background",style:"",containerStyle:"",textPartLength:10,separatorsLength:3,unlock:{enabled:!1,triggerWord:"WMK",algorithm:"SHA-512",hash:""},configsByCategory:{}},watermarkTypes={horizontal:"horizontal",diagonal:"diagonal",circle:"circle"};return pluginFactory({name:"watermark",install:function install(){var _Mathmin=Math.min;this.pluginConfig={},this.$watermark=null,this.abortController=null,this.isNotUnlocked=!0,this.getIsEnabledByCategory=()=>{const testRunner=this.getTestRunner(),testMap=testRunner.getTestMap(),itemIdentifier=testRunner.getTestContext().itemIdentifier;let enabledByCategory=!1;if(this.getConfig()&&this.getConfig().configsByCategory)for(const categorySuffix of Object.keys(this.getConfig().configsByCategory)){const category=`${this.getName()}-${categorySuffix}`;if(mapHelper.hasItemCategory(testMap,itemIdentifier,category,!0)){this.pluginConfig=_.merge({},defaultConfig,this.getConfig(),_.omit(this.getConfig().configsByCategory[categorySuffix],["unlock"])),enabledByCategory=!0;break}}if(!enabledByCategory){const category=this.getName();mapHelper.hasItemCategory(testMap,itemIdentifier,category,!0)&&(this.pluginConfig=_.merge({},defaultConfig,this.getConfig()),enabledByCategory=!0)}return enabledByCategory};let textHash,textHashAlgorithm;this.getTextHash=()=>{const text=context.currentUser&&context.currentUser.login||"anonymous",algorithm=this.pluginConfig.hashAlgorithm;return textHash&&textHashAlgorithm===algorithm?Promise.resolve(textHash):digest(text,algorithm).then(hash=>(textHash=hash,textHashAlgorithm=algorithm,textHash))},this.getText=()=>this.getTextHash().then(userHash=>{const textPartLength=_Mathmin(this.pluginConfig.textPartLength,userHash.length),separatorsLength=this.pluginConfig.separatorsLength;let str="";for(let idx=0;idx<userHash.length-textPartLength+1;idx+=textPartLength)str+=userHash.slice(idx,idx+textPartLength),str+=" ".repeat(separatorsLength);return separatorsLength||(str+=" "),str}),this.renderText=($watermarkContent,text,itemScale)=>{for(let i=0;10>i;i++){const actualHeight=$watermarkContent.get(0).offsetHeight,expectedHeight=this.$watermark.get(0).offsetHeight+(this.pluginConfig.type===watermarkTypes.horizontal?0:this.$watermark.get(0).offsetWidth);if(actualHeight<expectedHeight){const repeatedText=text.repeat(200/itemScale);$watermarkContent.get(0).textContent+=repeatedText}else break}},this.renderCircle=($watermarkContent,text)=>{var _Mathtrunc=Math.trunc;$watermarkContent.html("");const contentEl=$watermarkContent.get(0),boxSize=_Mathtrunc(_Mathmin(contentEl.offsetWidth,contentEl.offsetHeight)),fontSizePropVal=getComputedStyle(contentEl).getPropertyValue("font-size"),halfOfBoxSize=_Mathtrunc(boxSize/2),fontSize=parseInt(fontSizePropVal)||10,radius=halfOfBoxSize-fontSize,repeatedText=text.repeat(_Mathtrunc(2*3.15*radius/text.length/(fontSize/4)));$watermarkContent.html(watermarkCirclePathTpl({boxSize,repeatedText,s:halfOfBoxSize,f:fontSize,r:radius,sr:halfOfBoxSize+radius}))};const validateUnlock=val=>digest(val,this.pluginConfig.unlock.algorithm).then(hash=>hash===this.pluginConfig.unlock.hash),doUnlock=()=>{this.isNotUnlocked=!this.isNotUnlocked,this.getIsEnabledByCategory()&&this.isNotUnlocked?this.show():this.hide()};this.showUnlockDialog=()=>{this.removeUnlockListener();const appendToEl=this.getAreaBroker().getContainer().find(".content-wrapper").get(0),label=this.isNotUnlocked?__("To hide watermark, type keyword"):__("To show watermark, type keyword"),dialogTpl=`<label>${label}<input autocomplete="off" class="tao-wmark-input" style="-webkit-text-security:disc" /></label>`,dlg=dialog({autoRender:!0,autoDestroy:!0,content:dialogTpl,width:300,buttons:[],renderTo:appendToEl});dlg.on("closed.modal",()=>{this.addUnlockListener()});const submit=val=>validateUnlock(val).then(valid=>{valid&&doUnlock()}),$input=dlg.getDom().find(".tao-wmark-input");$input.on("copy",e=>{e.preventDefault()}).on("keydown",e=>{e.stopPropagation(),"Enter"===e.key?($input.off("change"),submit(e.target.value),dlg.hide()):"Escape"===e.key&&dlg.hide()}).on("change",e=>{submit(e.target.value),dlg.hide()}).focus()},this.addUnlockListener=()=>{this.abortController=new AbortController,addMultikeyShortcut(this.pluginConfig.unlock.triggerWord,()=>this.showUnlockDialog(),this.abortController,[this.getAreaBroker().getContainer().find(".content-wrapper").get(0)])},this.removeUnlockListener=()=>{this.abortController&&this.abortController.abort()},this.itemHasOverlay=()=>{const testContext=this.getTestRunner().getTestContext();return testContext.itemSessionState===states.itemSession.closed}},init:function init(){const testRunner=this.getTestRunner();this.pluginConfig=_.merge({},defaultConfig,this.getConfig()),testRunner.on(`renderitem.${this.getName()}`,()=>{this.getIsEnabledByCategory()&&(this.isNotUnlocked&&(this.hide(),this.show()),this.pluginConfig.unlock&&this.pluginConfig.unlock.enabled&&this.pluginConfig.unlock.triggerWord&&this.pluginConfig.unlock.hash&&this.addUnlockListener())}).on(`unloaditem.${this.getName()}`,()=>{this.hide(),this.removeUnlockListener()}).after(`tool-zoomout.${this.getName()} tool-zoomin.${this.getName()}`,()=>{this.getIsEnabledByCategory()&&this.isNotUnlocked&&(this.hide(),this.show())})},show:function show(){const $coverArea=this.getAreaBroker().getContainer().find(".content-wrapper"),$itemArea=this.getTestRunner().getAreaBroker().getContentArea().find(".qti-item");let $appendTo=this.getTestRunner().getAreaBroker().getContentArea();const classesStr=["tao-wmark",this.pluginConfig.type,this.pluginConfig.layer,this.itemHasOverlay()?"overlayed":""].filter(Boolean).join(" ");this.$watermark=$(`<div class="${classesStr}" aria-hidden="true"><div></div></div>`);const $watermarkContent=this.$watermark.children().first();this.pluginConfig.style&&$watermarkContent.attr("style",this.pluginConfig.style),$appendTo.prepend(this.$watermark);const originalContentStyle=$watermarkContent.attr("style")||"",computedContentStyle=getComputedStyle($watermarkContent.get(0)),scalableComputedContentStyle=["font-size","line-height","letter-spacing"].reduce((acc,prop)=>(acc[prop]=computedContentStyle.getPropertyValue(prop),acc),{});this.getText().then(text=>{this.throttledResizeCallback=_.throttle(()=>requestAnimationFrame(()=>{var _Mathabs=Math.abs,_Mathmax=Math.max;const containerRect=$coverArea.get(0).getBoundingClientRect(),itemRect=$itemArea.get(0).getBoundingClientRect(),itemScale=_Mathmax(.4,itemRect.width/$itemArea.get(0).offsetWidth),containerBox={left:containerRect.left,width:containerRect.width,top:containerRect.top,height:containerRect.height};let style=["left","width","top","height"].map(prop=>`${prop}: ${_Mathround(containerBox[prop])}px`).join(";");if(this.pluginConfig.containerStyle&&(style+=`;${this.pluginConfig.containerStyle}`),this.$watermark.attr("style",style),.01<_Mathabs(itemScale-1)){const scaledContentStyle=Object.keys(scalableComputedContentStyle).map(prop=>`${prop}: calc(${itemScale} * ${scalableComputedContentStyle[prop]})`).join(";");$watermarkContent.attr("style",`${originalContentStyle};${scaledContentStyle}`)}this.pluginConfig.type===watermarkTypes.circle?this.renderCircle($watermarkContent,text):this.renderText($watermarkContent,text,itemScale)}),100),this.resizeObserver=new ResizeObserver(this.throttledResizeCallback),this.resizeObserver.observe($coverArea.get(0))})},hide:function hide(){this.throttledResizeCallback&&(this.throttledResizeCallback.cancel(),this.throttledResizeCallback=null),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.$watermark&&(this.$watermark.remove(),this.$watermark=null)},destroy:function destroy(){this.removeUnlockListener(),this.getTestRunner().off(this.getName()),this.hide()}})}),define("taoTestRunnerPlugins/runner/plugins/tools/preventDropToInput",["jquery","lodash","taoTests/runner/plugin","util/namespace"],function($,_,pluginFactory,namespaceHelper){"use strict";var _defaults={selector:"input.qti-textEntryInteraction, .qti-extendedTextInteraction textarea",draggableSelector:"img, image"};return pluginFactory({name:"preventDropToInput",init:function init(){var self=this,testRunner=self.getTestRunner();this.getTestRunner().after("renderitem",function renderItem(){var config=_.defaults(self.getConfig()||{},_defaults),$items=testRunner.getAreaBroker().getContentArea().find(config.selector),disabled={};$(config.draggableSelector).off(".preventdropimg").on(namespaceHelper.namespaceAll("dragstart","preventdropimg"),function handleDragStart(e){var target=e.originalEvent.target;e.originalEvent.dataTransfer.setData("text/plain",target.id),e.originalEvent.dataTransfer.setDragImage(target,0,0),_.forEach($items,function(el,key){var $el=$(el);disabled[key]=!!$el.prop("disabled"),$el.prop("disabled",!0)})}).on(namespaceHelper.namespaceAll("dragend","preventdropimg"),function handleDragEnd(){_.forEach($items,function(el,key){var $el=$(el);$el.prop("disabled",disabled[key])}),disabled={}})}).on("destroy",function destroy(){var config=_.defaults(self.getConfig()||{},_defaults);$(config.draggableSelector).off(".preventdropimg")})}})}),function(c){var d=document,a="appendChild",i="styleSheet",s=d.createElement("style");s.type="text/css",d.getElementsByTagName("head")[0].appendChild(s),s.styleSheet?s.styleSheet.cssText=c:s.appendChild(d.createTextNode(c))}(".fullscreen .content-wrap{-ms-overflow-y:auto}\n\n/*# sourceMappingURL=taoTestRunnerPlugins/runner/plugins/security/css/fullscreen.css.map */.tao-wmark.tao-wmark{pointer-events:none;overflow:hidden;position:fixed;container-type:inline-size;direction:ltr}.tao-wmark.tao-wmark>div{color:#000;font-size:10px;white-space-collapse:preserve;font-family:\"Courier New\",monospace !important;height:auto;overflow:visible}.tao-wmark.tao-wmark.foreground{z-index:120000}.tao-wmark.tao-wmark.diagonal>div{opacity:.3;line-height:9em;width:calc((100cqw + 100cqh)/1.4);transform-origin:top left;transform:rotate(-45deg) translateX(-71.4285714286cqh)}.tao-wmark.tao-wmark.horizontal>div{opacity:.1;line-height:2.5em;width:calc(100% + 30em)}.tao-wmark.tao-wmark.circle{padding:8vh}.tao-wmark.tao-wmark.circle>div{opacity:.2;font-size:8px;width:100%;height:100%;display:flex;justify-content:center;align-items:center}.tao-wmark.tao-wmark.circle>div text{fill:currentColor}.tao-wmark.tao-wmark.overlayed>div{opacity:.5 !important}.tao-wmark.tao-wmark.overlayed.foreground{z-index:1}.tao-wmark-input{width:100%;font-size:12px;letter-spacing:.25em;line-height:2em;margin-top:8px}\n\n/*# sourceMappingURL=taoTestRunnerPlugins/runner/plugins/security/css/watermark.css.map */"),define("taoTestRunnerPlugins/loader/testPlugins.bundle",function(){});
//# sourceMappingURL=testPlugins.min.js.map